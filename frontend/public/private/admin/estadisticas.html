<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estadisticas - BiblioTech </title>
    <link rel="stylesheet" href="styles/estadisticas.css">
</head>
<body>
    <div class ="estadisticas-container">

        <h1>Estadísticas de Uso</h1>
        <div class="grafico-barra1">
            <h2>Libros e items prestados por dia</h2>
        </div>
    
        <div class="grafico-barra2">
            <h2>actividad del foro x dia</h2>
        </div>

        <div class="grafico-torta1">
            <h2>libros prestados por genero % historico</h2>
        </div>

        <div class="grafico-torta2">
            <h2>utiles mas prestados</h2>
        </div>

        <div class="ranking-lista1">
            <h2>libros mas alquilados hiatoricos</h2>
        </div>

        <div class="ranking-lista2">
            <h2>usuarios con mas loans</h2>
        </div>

        <div class="ranking-lista3">
            <h2>usuarios con libros mas leidos</h2>
        </div>

        <div class="ranking-lista4">
            <h2>libros mas likeados</h2>
        </div>
                
    </div>

    <!-- placeholder (opcional) -->
<div id="nav-placeholder"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const navUrl = "navigation.html"; // ruta relativa a navigation.html
  const cssUrl = "navigatioon.css"; // ruta a tu CSS de la barra

  fetch(navUrl)
    .then(response => {
      if (!response.ok) throw new Error("No se pudo cargar " + navUrl + " (status " + response.status + ")");
      return response.text();
    })
    .then(htmlText => {
      // parsear el HTML obtenido
      const parser = new DOMParser();
      const doc = parser.parseFromString(htmlText, "text/html");

      // intentar obtener el contenedor principal (clase .navegador)
      const navElem = doc.querySelector(".navegador") || doc.body;
      if (!navElem) throw new Error("navigation.html no contiene un elemento con clase .navegador");

      // clonar para moverlo al documento actual
      const imported = document.importNode(navElem, true);
      // insertarlo al final del body (la barra tiene position: fixed así que se va a superponer)
      document.body.appendChild(imported);

      // añadir hoja de estilos si no está presente
      if (!document.querySelector(`link[href="${cssUrl}"]`)) {
        const link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = cssUrl;
        document.head.appendChild(link);
      }

      console.log("Barra de navegación cargada correctamente desde:", navUrl);
    })
    .catch(err => {
      console.error("Error cargando navigation.html:", err);
      // Mostrar aviso visible (opcional)
      const ph = document.getElementById("nav-placeholder");
      if (ph) ph.innerHTML = "<!-- error cargando navigation: ver consola -->";
    });
});
</script>
</body>
</html>